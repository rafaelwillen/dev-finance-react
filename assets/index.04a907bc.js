import{j as y,r as m,R as E,a as w}from"./vendor.7c06ced7.js";const A=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}};A();const e=y.exports.jsx,c=y.exports.jsxs,O=y.exports.Fragment,f=({title:n,value:t,isPrimaryColor:a,icon:s})=>c("div",{className:a?"card primary-bg":"card",children:[c("div",{className:"headline",children:[e("p",{children:n}),e("img",{src:s,alt:"icon"})]}),e("p",{children:t})]});f.defaultProps={title:"lorem",value:"0.00 Kzs",isPrimaryColor:!1};var P="/dev-finance-react/assets/expense.a88d0595.svg",j="/dev-finance-react/assets/income.31ead34f.svg",k="/dev-finance-react/assets/total.c9bdbac4.svg";function I(n){return n.reduce((t,a)=>(a.amount>0&&(t+=a.amount),t),0)}function B(n){return n.reduce((t,a)=>(a.amount<0&&(t+=a.amount),t),0)}function F(n,t){return n+t}function L(n){return n*100}function M(n){return n.split("-").reverse().join("/")}function h(n){const t=Number(n)<0?"-":"";let a=String(n).replace(/\D/g,"");return a=Number(a)/100,a=a.toLocaleString("pt-ao",{style:"currency",currency:"AOA"}),t+a}const K=({transactions:n})=>{const t=I(n),a=B(n),s=F(t,a);return c("section",{className:"balance",children:[e(f,{title:"Entradas",icon:j,value:h(t)}),e(f,{title:"Sa\xEDdas",icon:P,value:h(a)}),e(f,{title:"Balan\xE7o",isPrimaryColor:"true",icon:k,value:h(s)})]})};var R="/dev-finance-react/assets/logo.83d6dbed.svg";const z=()=>e("header",{children:e("img",{src:R,alt:"dev.finance$"})}),N=({onClick:n,content:t,colorClass:a})=>e("button",{onClick:n,className:`text-button ${a}`,children:t});N.defaultProps={onClick:()=>console.log("Text Button clicked"),content:"Text Button",colorClass:"primary-color"};const C=({description:n,value:t,date:a,onDoubleClick:s})=>c("div",{className:"transaction-cell",onDoubleClick:s,children:[e("p",{children:n}),e("p",{className:t>0?"positive":"negative",children:h(t)}),e("p",{children:a})]});C.defaultProps={description:"lorem",value:"0.00 Kzs",date:"xx/xx/xx",onDoubleClick:()=>console.log("Double click")};const T=({transactions:n,removeTransaction:t})=>c("div",{className:"transactions-container",children:[c("div",{className:"headline",children:[e("h3",{children:"Descri\xE7\xE3o"}),e("h3",{children:"Valor"}),e("h3",{children:"Data"})]}),n.map(({description:a,amount:s,date:r},o)=>e(C,{date:r,description:a,value:s,onDoubleClick:l=>{t(o)}},o))]});T.defaultProps={transactions:[]};const V=({onAddTransaction:n,transactions:t,removeTransaction:a})=>c("section",{className:"container",children:[e(N,{content:"+ Adicionar Transa\xE7\xE3o",onClick:n}),e(T,{transactions:t,removeTransaction:a})]}),q=({show:n,onCancelTransaction:t,addTransaction:a})=>{const[s,r]=m.exports.useState(""),[o,l]=m.exports.useState(0),[p,i]=m.exports.useState(""),u=d=>{d.preventDefault();try{v();const x=g();a(x),D()}catch(x){alert(x.message)}},v=()=>{if(s===""||o===0||p==="")throw new Error("Preencha todos os campos")},g=()=>({description:s,amount:L(o),date:M(p)}),D=()=>{r(""),l(0),i("")};return e("div",{className:"modal",style:{display:n?"block":"none"},children:c("form",{className:"form",onSubmit:u,children:[c("div",{className:"input-group",children:[e("label",{htmlFor:"description",children:"Descri\xE7\xE3o"}),e("input",{placeholder:"Comida, contas de casa...",type:"text",value:s,onChange:d=>r(d.target.value)})]}),c("div",{className:"input-group",children:[e("label",{htmlFor:"value",children:"Valor"}),e("input",{type:"number",step:"0.01",placeholder:"00.00 Kzs",value:o,onChange:d=>l(d.target.value)}),e("small",{children:"Coloque o sinal de menos (-) para ser um gasto"})]}),c("div",{className:"input-group",children:[e("label",{htmlFor:"date",children:"Data"}),e("input",{type:"date",value:p,onChange:d=>i(d.target.value)})]}),c("div",{className:"form-actions",children:[e("button",{type:"submit",className:"btn primary",children:"Criar Transa\xE7\xE3o"}),e("button",{className:"btn cancel",onClick:t,children:"Cancelar"})]})]})})},S="transactions",b={set(n){localStorage.setItem(S,JSON.stringify(n))},getAll(){return JSON.parse(localStorage.getItem(S))||[]}};function J(){const[n,t]=m.exports.useState(!1),[a,s]=m.exports.useState(b.getAll());return c(O,{children:[e("div",{className:n?"modal-overlay show":"modal-overlay"}),e(q,{show:n,onCancelTransaction:i=>{i.preventDefault(),t(!1)},addTransaction:i=>{const u=[...a,i];b.set(u),s(u),t(!1)}}),e(z,{}),e(K,{transactions:a}),e(V,{onAddTransaction:()=>{t(!0)},transactions:a,removeTransaction:i=>{const u=a.filter((v,g)=>{if(i!==g)return v});b.set(u),s(u)}})]})}E.render(e(w.StrictMode,{children:e(J,{})}),document.getElementById("root"));
